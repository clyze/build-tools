apply plugin: 'groovy'
apply plugin: 'ivy-publish'

group = 'plast-lab'
version = '1.0-SNAPSHOT'

task wrapper(type: Wrapper) {
    gradleVersion = '2.4'
}

repositories {
    mavenCentral()
    ivy {
        url "../ivy-repo"
    }
}

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile "doop:doop-client:1.0",
            "commons-cli:commons-cli:1.2"
}

publishing {
    repositories {
        ivy {
            name "local-ivy-repo"
            url "../ivy-repo"
        }
    }

    publications {

        doopGradlePlugin(IvyPublication) {
            organisation "$group"
            module "${project.name}"
            revision "$version"
            from components.java
        }
    }
}